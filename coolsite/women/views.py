from django.http import HttpResponse, HttpResponseNotFound, Http404
from django.shortcuts import render, redirect, get_object_or_404

#  –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
# Create your views here.
from women.models import Students

menu = [{'title': '–ì–ª–∞–≤–Ω–∞—è', 'url': 'home'},
        {'title': '–û —Å–∞–π—Ç–µ', 'url': 'about'},
        {'title': '–ö—Ä–∞—Å–∏–≤—ã–π css', 'url': 'cub'}
        ]


def index(request):
    data = {'title': '–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞',
            'menu': menu,
            }
    return render(request, 'women/index.html', context=data)


def group(request, group_slug):
    group_id = get_object_or_404(Students, slug=group_slug)
    data = {'title': '–î–∞–Ω–Ω—ã–µ —Å—Ç—É–¥–µ–Ω—Ç–∞',
            'menu': menu,
            'group_id':group_id,
            }
    return render(request, 'women/id_student.html', context=data)


def about(request):
    data = {'title': '–û –ø—Ä–æ–≥—Ä–∞–º–º–µ',
            'menu': menu,
            }
    return render(request, 'women/index.html', context=data)


def cub(request):
    data = {'title': '–û –ø—Ä–æ–≥—Ä–∞–º–º–µ',
            'menu': menu,
            }
    return render(request, 'women/3D_kub.html', context=data)


def categorys(request):
    return HttpResponse('<h1> cc—ã–ª–∫–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º </h1>')


def category(request, cat_id):
    if cat_id > 1000:
        raise Http404()
    if cat_id < 50:
        return redirect('home', permanent=True)
    return HttpResponse(f'<h1> –ù–æ–º–µ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ - </h1> <br> {cat_id}')


def year_archive(request, year):
    return HttpResponse(f'<h1> –ì–æ–¥ —Ç–∞–∫–æ–π —Ç–æ - </h1> <br> {year}')


def pageNotFound(request, exception):
    return HttpResponseNotFound(f'<h1> —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ <br>üò¢</h1> <br> {exception}')
